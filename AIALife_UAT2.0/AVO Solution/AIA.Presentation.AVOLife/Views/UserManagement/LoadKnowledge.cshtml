@model AIA.Life.Models.UserManagement.ResouceManagent

<script>

    $(document).ready(function () {
        //stopVideo("")
    });


    // Get the element with id="defaultOpen" and click on it
    document.getElementById("defaultOpen").click();
    $(".Close-button").click(function () {
        stopVideo("")
    })

    //onYouTubeIframeAPIReady();

    function onYouTubeIframeAPIReady() {
        console.log("YOU")
        player1 = new YT.Player('player1', {
            videoId: 'kbq_2h8MNLg',
            events: {
                'onStateChange': onPlayerStateChange
            }
        });
        player2 = new YT.Player('player2', {
            videoId: 'GQ4ZC7L_K7E',
            events: {
                'onStateChange': onPlayerStateChange
            }
        });
        player3 = new YT.Player('player3', {
            videoId: 'HEuqz7MQdZE',
            events: {
                'onStateChange': onPlayerStateChange
            }
        });
        player4 = new YT.Player('player4', {
            videoId: 'eqIFz6Y5DzI',
            events: {
                'onStateChange': onPlayerStateChange
            }
        });
        player5 = new YT.Player('player5', {
            videoId: 'r4MGLkxBDEk',
            events: {
                'onStateChange': onPlayerStateChange
            }
        });
        player6 = new YT.Player('player6', {
            videoId: 'HXYjPUu8lZw',
            events: {
                'onStateChange': onPlayerStateChange
            }
        });
        player7 = new YT.Player('player7', {
            videoId: 'RnP5YxBZL18',
            events: {
                'onStateChange': onPlayerStateChange
            }
        });
        player8 = new YT.Player('player8', {
            videoId: '6J1fnzyj68M',
            events: {
                'onStateChange': onPlayerStateChange
            }
        });
        player9 = new YT.Player('player9', {
            videoId: 'M8hQjXmTJPY',
            events: {
                'onStateChange': onPlayerStateChange
            }
        });
    }
    function openProduct(evt, productName) {
        console.log("OPend")
        var i, tabcontent, tablinks;
        tabcontent = document.getElementsByClassName("tabcontent");
        for (i = 0; i < tabcontent.length; i++) {
            tabcontent[i].style.display = "none";
        }

        tablinks = document.getElementsByClassName("tablinks");
        for (i = 0; i < tablinks.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" active", "");
        }
        document.getElementById(productName).style.display = "block";
        evt.currentTarget.className += " active";
        stopVideo("");
    }
    function openProductPartial(evt, ResoucecatagoryPK) {
        debugger;
        $.post("../../UserManagement/LoadKnowledgePartial?ResoucecatagoryPK=" + ResoucecatagoryPK)
            .done(function (data) {
                debugger;
                $("#DivIdContentdetails").html('');
                $("#DivIdContentdetails").html(data);       
            })
    }
    function onPlayerStateChange(event) {
        //debugger;
        if (event.data == YT.PlayerState.PLAYING) {
            stopVideo(event.target.a.id);
        }
    }
    var player1, player2, player3, player4, player5, player6, player7, player8, player9,stopVideo;
    function stopVideo(player_id) {
        if (player_id != "player1") {
            //player_id.addEventListener("click", function () {
                // player.pauseVideo();
            player1.stopVideo(player_id);
            //});

        }
        if (player_id != "player2") {
            player2.stopVideo();
        }
        if (player_id != "player3") {
            player3.stopVideo();
        }
        if (player_id != "player4") {
            player4.stopVideo();
        }
        if (player_id != "player5") {
            player5.stopVideo();
        }
        if (player_id != "player6") {
            player6.stopVideo();
        }
        if (player_id != "player7") {
            player7.stopVideo();
        }
        if (player_id != "player8") {
            player8.stopVideo();
        }
        if (player_id != "player9") {
            player9.stopVideo();
        }
    }

    var tag = document.createElement('script');
    tag.src = "//www.youtube.com/player_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

</script>
<div class="modal-header">
    <button type="button" class="close" data-dismiss="modal">&times;</button>
    <h4 class="modal-title">RESOURCE CENTER</h4>
    <div class="Close-button" style="right: 0;top: 0;position: absolute;margin-top: 10px;"> <button type="button" class="btn btn-default" data-dismiss="modal"><img src="~/Content/Images/Close-128.png" height="20" width="20" /></button></div>

</div>
<div class="modal-body">
    <div class="tab">
        @for (int i = 0; i < Model.lstResourceCatagory.Count(); i++)
        {
            if (i == 0)
            {
        <button class="tablinks active" onclick="openProductPartial(event,@Model.lstResourceCatagory[i].ResoucecatagoryPK)" id="defaultOpen">@Model.lstResourceCatagory[i].Resoucecatagory</button>
            }
            else
            {
        <button class="tablinks" onclick="openProductPartial(event, '@Model.lstResourceCatagory[i].ResoucecatagoryPK')">@Model.lstResourceCatagory[i].Resoucecatagory</button>
            }
        }     
        @*<button class="tablinks active" onclick="openProduct(event, 'Marketing')" id="defaultOpen">Marketing Content</button>
        <button class="tablinks" onclick="openProduct(event, 'Company')">Company Profile</button>
        <button class="tablinks" onclick="openProduct(event, 'Brochure')">Product Brochures</button>
        <button class="tablinks" onclick="openProduct(event, 'AIAFirst')">AIA First Class</button>
        <button class="tablinks" onclick="openProduct(event, 'ProductVideo')">Product Videos</button>
        <button class="tablinks" onclick="openProduct(event, 'Recruitment')">Recruitment Videos</button>
        <button class="tablinks" onclick="openProduct(event, 'customer')">Customer Testimonial</button>
        <button class="tablinks" onclick="openProduct(event, 'posm')">POSM</button>
        <button class="tablinks" onclick="openProduct(event, 'csr')">CSR</button>*@
    </div>

    <div id="DivIdContentdetails" class="tabcontent" width="100%" height="100%" style="overflow-x:scroll;">        
    </div>   
    <div class="clearfix"></div>

</div>
<div class="modal-footer">

</div>

